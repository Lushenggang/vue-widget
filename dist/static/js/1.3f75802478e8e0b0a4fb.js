webpackJsonp([1],{"76L/":function(e,t){},S5NU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"my-tree",props:{treeData:{type:Array,default:function(){return[{id:1,name:"一级节点1",expand:!0,children:[{id:2,expand:!0,name:"二级节点1"}]},{id:3,expand:!0,name:"一级节点2",children:[{id:4,expand:!0,name:"二级节点1"},{id:5,expand:!0,name:"二级节点2",children:[{id:6,expand:!0,name:"三级节点"}]}]}]}}},methods:{addBrother:function(e,t){this.$emit("addBrother",e,t)},addChild:function(e,t){this.$emit("addChild",e,t)},deleteNode:function(e,t){this.$emit("deleteNode",e,t)}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-tree"},e._l(e.treeData,function(t,a){return n("div",{key:a,staticClass:"brother"},[n("div",{staticClass:"node"},[n("span",{on:{click:function(e){t.expand=!t.expand}}},[t.expand?n("Button",{staticClass:"node-expand",attrs:{type:"text",icon:"chevron-down"}}):n("Button",{staticClass:"node-expand",attrs:{type:"text",icon:"chevron-right"}})],1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"data.name"}],staticClass:"node-name",domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),e._v(" "),n("span",{staticClass:"node-menu"},[n("span",{staticClass:"menu-item",attrs:{title:"添加同级节点"},on:{click:function(n){n.stopPropagation(),e.$emit("addBrother",n,t)}}},[n("Icon",{attrs:{type:"plus-round"}})],1),e._v(" "),n("span",{staticClass:"menu-item",attrs:{title:"添加下级节点"},on:{click:function(n){n.stopPropagation(),e.$emit("addChild",n,t)}}},[n("Icon",{attrs:{type:"ios-plus-outline"}})],1),e._v(" "),n("span",{staticClass:"menu-item",attrs:{title:"“删除”"},on:{click:function(n){n.stopPropagation(),e.$emit("deleteNode",n,t)}}},[n("Icon",{attrs:{type:"trash-a"}})],1)])]),e._v(" "),t.children&&t.children.length?n("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"data.expand"}],staticClass:"children"},[n("my-tree",{attrs:{treeData:t.children},on:{addBrother:e.addBrother,addChild:e.addChild,deleteNode:e.deleteNode}})],1):e._e()])}))},staticRenderFns:[]};var d={name:"tree",components:{"my-tree":n("VU/8")(a,i,!1,function(e){n("76L/")},"data-v-6fdfc87c",null).exports},data:function(){return{id:100}},methods:{addBrother:function(e,t){var n=this.getParentData(e.target);if(console.log(n),n){var a=n.indexOf(t);-1!==a&&n.splice(a+1,0,this.newNode())}},addChild:function(e,t){t.children||this.$set(t,"children",[]),t.children.push(this.newNode())},deleteNode:function(e,t){var n=this.getParentData(e.target);if(n){var a=n.indexOf(t);-1!==a&&n.splice(a,1)}},newNode:function(){var e=this.id++;return{id:e,name:"新节点"+e,expand:!0,children:[]}},getParentData:function(e){for(;e&&"BODY"!==e.tagName;){if(e.__vue__&&"my-tree"===e.__vue__.$options.name)return e.__vue__.treeData;e=e.parentNode}return null}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tree"},[t("div",{staticClass:"tree-title"},[this._v("\n    树结构\n  ")]),this._v(" "),t("my-tree",{on:{addBrother:this.addBrother,addChild:this.addChild,deleteNode:this.deleteNode}})],1)},staticRenderFns:[]};var s=n("VU/8")(d,r,!1,function(e){n("kRJW")},"data-v-23ba6e4a",null);t.default=s.exports},kRJW:function(e,t){}});
//# sourceMappingURL=1.3f75802478e8e0b0a4fb.js.map